<?php

namespace Xiaohei2015\BaZiWuXing;

/**
 * 地支实体
 */
class DiZhiEntity
{
    private static $property = [
        '子' => '水',
        '丑' => '土',
        '寅' => '木',
        '卯' => '木',

        '辰' => '土',
        '巳' => '火',
        '午' => '火',
        '未' => '土',

        '申' => '金',
        '酉' => '金',
        '戌' => '土',
        '亥' => '水',
    ];

    /**
     * 根据地支获取其对应的五行
     * @param $di_zhi
     * @return bool
     */
    public static function getPropertyByDiZhi($di_zhi)
    {
        return @self::$property[$di_zhi]?:false;
    }

    private static $strength = [
        '子' => [
            '癸' => ['子' => 1.20,'丑' => 1.10,'寅' => 1.00,'卯' => 1.00,'辰' => 1.04,'巳' => 1.06,'午' => 1.00,'未' => 1.00,'申' => 1.20,'酉' => 1.20,'戌' => 1.06,'亥' => 1.14],
        ],
        '丑' => [
            '癸' => ['子' => 0.36,'丑' => 0.33,'寅' => 0.30,'卯' => 0.30,'辰' =>0.312,'巳' =>0.318,'午' => 0.30,'未' => 0.30,'申' => 0.36,'酉' => 0.36,'戌' =>0.318,'亥' =>0.342],
            '辛' => ['子' => 0.20,'丑' =>0.228,'寅' => 0.20,'卯' => 0.20,'辰' => 0.23,'巳' =>0.212,'午' => 0.20,'未' => 0.22,'申' =>0.228,'酉' =>0.248,'戌' =>0.232,'亥' => 0.20],
            '己' => ['子' => 0.50,'丑' => 0.55,'寅' => 0.53,'卯' => 0.50,'辰' => 0.55,'巳' => 0.57,'午' => 0.60,'未' => 0.58,'申' => 0.50,'酉' => 0.50,'戌' => 0.57,'亥' => 0.50],
        ],
        '寅' => [
            '丙' => ['子' => 0.30,'丑' => 0.30,'寅' => 0.36,'卯' => 0.36,'辰' =>0.318,'巳' =>0.342,'午' => 0.36,'未' => 0.33,'申' => 0.30,'酉' => 0.30,'戌' =>0.342,'亥' =>0.318],
            '甲' => ['子' => 0.84,'丑' =>0.742,'寅' =>0.798,'卯' => 0.84,'辰' => 0.77,'巳' => 0.70,'午' => 0.70,'未' =>0.728,'申' =>0.742,'酉' => 0.70,'戌' => 0.70,'亥' => 0.84],
        ],
        '卯' => [
            '乙' => ['子' => 1.20,'丑' => 1.06,'寅' => 1.14,'卯' => 1.20,'辰' => 1.10,'巳' => 1.00,'午' => 1.00,'未' => 1.04,'申' => 1.06,'酉' => 1.00,'戌' => 1.00,'亥' => 1.20],
        ],
        '辰' => [
            '乙' => ['子' => 0.36,'丑' =>0.318,'寅' =>0.342,'卯' => 0.36,'辰' => 0.33,'巳' => 0.30,'午' => 0.30,'未' =>0.312,'申' =>0.318,'酉' => 0.30,'戌' => 0.30,'亥' => 0.36],
            '癸' => ['子' => 0.24,'丑' => 0.22,'寅' => 0.20,'卯' => 0.20,'辰' =>0.208,'巳' => 0.20,'午' => 0.20,'未' => 0.20,'申' => 0.24,'酉' => 0.24,'戌' =>0.212,'亥' =>0.228],
            '戊' => ['子' => 0.50,'丑' => 0.55,'寅' => 0.53,'卯' => 0.50,'辰' => 0.55,'巳' => 0.60,'午' => 0.60,'未' => 0.58,'申' => 0.50,'酉' => 0.50,'戌' => 0.57,'亥' => 0.50],
        ],
        '巳' => [
            '庚' => ['子' => 0.30,'丑' =>0.342,'寅' => 0.30,'卯' => 0.30,'辰' => 0.33,'巳' => 0.30,'午' => 0.30,'未' => 0.33,'申' =>0.342,'酉' => 0.36,'戌' =>0.348,'亥' => 0.30],
            '丙' => ['子' => 0.70,'丑' => 0.70,'寅' => 0.84,'卯' => 0.84,'辰' =>0.742,'巳' => 0.84,'午' => 0.84,'未' =>0.798,'申' => 0.70,'酉' => 0.70,'戌' =>0.728,'亥' =>0.742],
        ],
        '午' => [
            '丁' => ['子' => 1.00,'丑' => 1.00,'寅' => 1.20,'卯' => 1.20,'辰' => 1.06,'巳' => 1.14,'午' => 1.20,'未' => 1.10,'申' => 1.00,'酉' => 1.00,'戌' => 1.04,'亥' => 1.06],
        ],
        '未' => [
            '丁' => ['子' => 0.30,'丑' => 0.30,'寅' => 0.36,'卯' => 0.36,'辰' =>0.318,'巳' =>0.342,'午' => 0.36,'未' => 0.33,'申' => 0.30,'酉' => 0.30,'戌' =>0.312,'亥' =>0.318],
            '乙' => ['子' => 0.24,'丑' =>0.212,'寅' =>0.228,'卯' => 0.24,'辰' => 0.22,'巳' => 0.20,'午' => 0.20,'未' =>0.208,'申' =>0.212,'酉' => 0.20,'戌' => 0.20,'亥' => 0.24],
            '己' => ['子' => 0.50,'丑' => 0.55,'寅' => 0.53,'卯' => 0.50,'辰' => 0.55,'巳' => 0.57,'午' => 0.60,'未' => 0.58,'申' => 0.50,'酉' => 0.50,'戌' => 0.57,'亥' => 0.50],
        ],
        '申' => [
            '壬' => ['子' => 0.36,'丑' => 0.33,'寅' => 0.30,'卯' => 0.30,'辰' =>0.312,'巳' =>0.318,'午' => 0.30,'未' => 0.30,'申' => 0.36,'酉' => 0.36,'戌' =>0.318,'亥' =>0.342],
            '庚' => ['子' => 0.70,'丑' =>0.798,'寅' => 0.70,'卯' => 0.70,'辰' => 0.77,'巳' =>0.742,'午' => 0.70,'未' => 0.77,'申' =>0.798,'酉' => 0.84,'戌' =>0.812,'亥' => 0.70],
        ],
        '酉' => [
            '辛' => ['子' => 1.00,'丑' => 1.14,'寅' => 1.00,'卯' => 1.00,'辰' => 1.10,'巳' => 1.06,'午' => 1.00,'未' => 1.10,'申' => 1.14,'酉' => 1.20,'戌' => 1.16,'亥' => 1.00],
        ],
        '戌' => [
            '辛' => ['子' => 0.30,'丑' =>0.342,'寅' => 0.30,'卯' => 0.30,'辰' => 0.33,'巳' =>0.318,'午' => 0.30,'未' => 0.33,'申' =>0.342,'酉' => 0.36,'戌' =>0.348,'亥' => 0.30],
            '丁' => ['子' => 0.20,'丑' => 0.20,'寅' => 0.24,'卯' => 0.24,'辰' =>0.212,'巳' =>0.228,'午' => 0.24,'未' => 0.22,'申' => 0.20,'酉' => 0.20,'戌' =>0.208,'亥' =>0.212],
            '戊' => ['子' => 0.50,'丑' => 0.55,'寅' => 0.53,'卯' => 0.50,'辰' => 0.55,'巳' => 0.57,'午' => 0.60,'未' => 0.58,'申' => 0.50,'酉' => 0.50,'戌' => 0.57,'亥' => 0.50],
        ],
        '亥' => [
            '甲' => ['子' => 0.36,'丑' =>0.318,'寅' =>0.342,'卯' => 0.36,'辰' => 0.33,'巳' => 0.30,'午' => 0.30,'未' =>0.312,'申' =>0.318,'酉' => 0.30,'戌' => 0.30,'亥' => 0.36],
            '壬' => ['子' => 0.84,'丑' => 0.77,'寅' => 0.70,'卯' => 0.70,'辰' =>0.728,'巳' =>0.742,'午' => 0.70,'未' => 0.70,'申' => 0.84,'酉' => 0.84,'戌' =>0.724,'亥' =>0.798],
        ],
    ];

    /**
     * 根据地支和月支获取其五行强度
     * @param $di_zhi
     * @param $month_dizhi
     * @return array | false
     */
    public static function getStrengthByDiZhiAndMonth($di_zhi, $month_dizhi)
    {
        $cangs = @self::$strength[$di_zhi];
        if($cangs){
            $data = [];
            foreach ($cangs as $k=>$v) {
                $data[$k] = @$v[$month_dizhi];
            }
            return $data;
        }else
            return false;
    }
}